<div class="demo-container">
  <h3>Basic Operators Demo</h3>

  <div class="operator-section">
    <h4>map() operator</h4>
    <p class="operator-description">
      Transforms each value emitted by the source Observable
    </p>
    <div class="code-block">
      <pre>
        of(1, 2, 3).pipe(
        map(value => value * 2) // Emits 2, 4, 6
        ).subscribe(console.log);</pre
      >
    </div>
    <div class="results">
      <p>Results:</p>
      <ul>
        @for (result of mapResults; track result) {
        <li>{{ result }}</li>
        }
      </ul>
      <div class="logs">
        <p>Logs:</p>
        <ul class="log-list">
          @for (log of mapLogs; track $index) {
          <li class="log-item">{{ log }}</li>
          }
        </ul>
      </div>
      <button class="section-button" (click)="runMapDemo()">
        Run Map Demo
      </button>
    </div>
  </div>

  <div class="operator-section">
    <h4>filter() operator</h4>
    <p class="operator-description">Emits only values that meet a condition</p>
    <div class="code-block">
      <pre>
          of(1, 2, 3, 4, 5).pipe(
          filter(value => value % 2 === 0) // Emits 2, 4
          ).subscribe(console.log);</pre
      >
    </div>
    <div class="results">
      <p>Results:</p>
      <ul>
        @for (result of filterResults; track result) {
        <li>{{ result }}</li>
        }
      </ul>
      <div class="logs">
        <p>Logs:</p>
        <ul class="log-list">
          @for (log of filterLogs; track $index) {
          <li class="log-item">{{ log }}</li>
          }
        </ul>
      </div>
      <button class="section-button" (click)="runFilterDemo()">
        Run Filter Demo
      </button>
    </div>
  </div>

  <div class="operator-section">
    <h4>Combined operators with tap()</h4>
    <p class="operator-description">
      Using tap() for side effects without changing the stream
    </p>
    <div class="code-block">
      <pre>
            of(1, 2, 3, 4, 5).pipe(
            tap(val => console.log('Before:', val)),
            filter(val => val % 2 === 0),
            map(val => val * 10),
            tap(val => console.log('After:', val))
            ).subscribe(val => console.log('Result:', val));</pre
      >
    </div>
    <div class="results">
      <p>Results:</p>
      <ul>
        @for (result of combineResults; track result) {
        <li>{{ result }}</li>
        }
      </ul>
      <div class="logs">
        <p>Logs:</p>
        <ul class="log-list">
          @for (log of combinedLogs; track $index) {
          <li class="log-item">{{ log.stage }}: {{ log.value }}</li>
          }
        </ul>
      </div>
      <button class="section-button" (click)="runCombinedDemo()">
        Run Combined Demo
      </button>
    </div>
  </div>

  <button class="demo-button" (click)="runDemoAgain()">Run All Demos</button>
  <p class="tip">
    Click the individual buttons to run each demo separately, or the button
    above to run all demos. Logs are displayed in the UI. Console logs are also
    available for reference.
  </p>
</div>
